---
import { Gutter, getSafeGutter, BaseTheme } from '@chisel-ui/core'
import './InlineCluster.css'

export interface InlineClusterProps {
    justify?: 'start' | 'end' | 'center'
    align?: 'start' | 'end' | 'center' | 'stretch'
    gutter?: Gutter
    theme?: BaseTheme
    as?: string
}

const justifyMap = {
    start: 'flex-start',
    end: 'flex-end',
    center: 'center'
}

const alignMap = {
    ...justifyMap,
    stretch: 'stretch'
}

const { justify = 'start', align = 'start', gutter = '0px', theme = {}, as: Tag = 'div' } = Astro.props as InlineClusterProps

const maybeGutter = getSafeGutter(theme, gutter)
const maybeJustify = justifyMap[justify] || justifyMap.start
const maybeAlign = alignMap[align] || alignMap.start
---

<Tag data-chisel-inline-cluster style={`--gutter: ${maybeGutter}; --justify: ${maybeJustify}; --align: ${maybeAlign};`}>
    <slot />
</Tag>