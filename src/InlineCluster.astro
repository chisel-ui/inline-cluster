---
import { getSafeGutter } from '@chisel-ui/core'
import './InlineCluster.css'
import type { LayoutProps } from '@chisel-ui/core'

export interface InlineClusterProps extends LayoutProps {
    justify?: 'start' | 'end' | 'center'
    align?: 'start' | 'end' | 'center' | 'stretch'
}

const justifyMap = {
    start: 'flex-start',
    end: 'flex-end',
    center: 'center'
}

const alignMap = {
    ...justifyMap,
    stretch: 'stretch'
}

const { justify = 'start', align = 'start', gutter = '0px', theme = {}, as: Tag = 'div', style, ...props } = Astro.props as InlineClusterProps

const maybeGutter = getSafeGutter(theme, gutter)
const maybeJustify = justifyMap[justify] || justifyMap.start
const maybeAlign = alignMap[align] || alignMap.start
---

<Tag data-chisel-inline-cluster style={`--gutter: ${maybeGutter}; --justify: ${maybeJustify}; --align: ${maybeAlign};${style}`} {...props}>
    <slot />
</Tag>